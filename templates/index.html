<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <title>Login</title>
    <script src="https://cdn.tailwindcss.com"></script>
  </head>
  <body class="bg-gray-100 flex items-center justify-center min-h-screen">
    <div class="bg-white shadow-lg rounded-2xl p-8 w-full max-w-4xl">
      <h2 class="text-2xl font-bold text-center text-blue-600 mb-6">
        Topfaith University Result Checker
      </h2>

      <form id="loginForm" class="space-y-4">
        <input
          id="studentNumber"
          type="text"
          placeholder="Student Number"
          required
          class="w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-400"
        />

        <select
          id="session"
          required
          class="w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-400"
        >
          <option value="">Select Session</option>
          <option value="2021/2022">2021/2022</option>
          <option value="2022/2023">2022/2023</option>
          <option value="2023/2024">2023/2024</option>
          <option value="2024/2025">2024/2025</option>
        </select>

        <select
          id="semester"
          required
          class="w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-400"
        >
          <option value="">Select Semester</option>
          <option value="First Semester">First Semester</option>
          <option value="Supplementary1">Supplementary1</option>
          <option value="Second Semester">Second Semester</option>
          <option value="Supplementary2">Supplementary2</option>
        </select>

        <button
          type="submit"
          class="w-full bg-blue-600 text-white py-2 rounded-lg font-semibold hover:bg-blue-700"
          id="submitButton"
        >
          View Results
        </button>
        <div id="spinner" style="display: none">
          <div class="loader"></div>
        </div>

        <style>
          .loader {
            border: 8px solid #f3f3f3;
            border-top: 8px solid #3498db;
            border-radius: 50%;
            width: 40px;
            height: 40px;
            animation: spin 1s linear infinite;
            margin: 10px auto;
          }

          @keyframes spin {
            0% {
              transform: rotate(0deg);
            }
            100% {
              transform: rotate(360deg);
            }
          }
        </style>
      </form>
    </div>

    <script>
      document
        .getElementById("loginForm")
        .addEventListener("submit", function (e) {
          e.preventDefault();
          const student = document.getElementById("studentNumber").value;
          const session = document.getElementById("session").value;
          const semester = document.getElementById("semester").value;

          // Show spinner
          document.getElementById("spinner").style.display = "block";
          const submitButton = document.getElementById("submitButton");
          submitButton.disabled = true;
          // Redirect to results page with query parameters
          setTimeout(() => {
            window.location.href = `results2/?student=${encodeURIComponent(
              student
            )}&session=${encodeURIComponent(
              session
            )}&semester=${encodeURIComponent(semester)}`;
          }, 100);
        });
    </script>
  </body>
</html>
